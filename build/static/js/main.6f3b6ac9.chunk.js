(this["webpackJsonp125-ciceksepeti-hw-3"]=this["webpackJsonp125-ciceksepeti-hw-3"]||[]).push([[0],{19:function(e,t,a){},20:function(e,t,a){},22:function(e,t,a){},24:function(e,t,a){},25:function(e,t,a){},26:function(e,t,a){},27:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(11),i=a.n(s),r=a(6),l=a(7),o=a(14),j=a(13),d=(a(19),a(20),a.p+"static/media/logo.237a57f3.svg"),u=a(0);var b=function(){return Object(u.jsx)("nav",{className:"navigation",children:Object(u.jsxs)("div",{className:"navigation__container",children:[Object(u.jsx)("div",{className:"navigation__logo-box",children:Object(u.jsx)("a",{href:"/",children:Object(u.jsx)("img",{src:d,alt:"",className:"navigation__logo"})})}),Object(u.jsxs)("ul",{className:"navigation__list",children:[Object(u.jsx)("li",{className:"navigation__list-item",children:Object(u.jsx)("a",{href:"/",className:"navigation__link",children:"Profile"})}),Object(u.jsx)("li",{className:"navigation__list-item",children:Object(u.jsx)("a",{href:"/",className:"navigation__link",children:"Logout"})})]})]})})};a(22);var m=function(){return Object(u.jsx)("header",{className:"header",children:Object(u.jsx)("div",{className:"header__title",children:Object(u.jsx)("h1",{className:"header__heading",children:"Wanna Rate Some? Let's Start!"})})})},O=a(5),h=a(3),x=a(2),v=a(10),_=a.n(v),f=a(12),g=function(){function e(t){Object(r.a)(this,e),this._apiKey="9669wkZHVV65H7ig73dj_MIKaccfg2TzYtA3byu-pDYWvoAZUekjf4pEylqs42ZUeihlhByw0QW4DQbg9BYZnSQh97H2gJUxCvY1w-AfclgbhW2wrKD45QM4V321X3Yx",this._auth="Bearer "+this._apiKey}return Object(l.a)(e,[{key:"getRestaurants",value:function(){var e=Object(f.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/businesses/search?locale=tr_TR&location=ist&term=restaurants",{headers:{Authorization:this._auth,"Content-Type":"application/json",Accept:"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),p=g,N=(a(24),a.p+"static/media/star.b4f51d4e.svg");var w=function(e){var t=e.cName,a=e.starIndex,n=e.setNewRating;return Object(u.jsx)("svg",{className:"restaurant__card-star ".concat(t),onMouseOver:function(e){e.preventDefault(),n(a)},children:Object(u.jsx)("use",{xlinkHref:"".concat(N,"#star")})})};var k=function(e){var t=e.rating,a=e.mode,c=e.changeRating,s=Object(n.useState)(t),i=Object(x.a)(s,2),r=i[0],l=i[1],o=function(e){"edit"===a&&(l(e),c(r))};return Object(u.jsx)("div",{className:"restaurant__card-star-box",children:Object(O.a)(Array(5)).map((function(e,t){return t+1<=Math.trunc(r)?Object(u.jsx)(w,{starIndex:t+1,cName:"",setNewRating:o},t):Object(u.jsx)(w,{starIndex:t+1,cName:"restaurant__card-star--unrated",setNewRating:o},t)}))})};var y=function(e){var t=e.review,a=e.editReview,n=e.deleteReview,c=e.mode,s=(t.id,t.name),i=t.image_url,r=t.rating,l=t.text,o=t.key;return Object(u.jsxs)("div",{className:"restaurant__card restaurant__card--reviewed",children:[Object(u.jsx)("div",{className:"restaurant__card-img-box",children:Object(u.jsx)("img",{className:"restaurant__card__img",src:i,alt:s})}),Object(u.jsxs)("div",{className:"restaurant__card-review-box",children:[Object(u.jsx)("h3",{className:"restaurant__card-title",children:s}),Object(u.jsx)(k,{rating:r,mode:c},o),Object(u.jsx)("div",{className:"restaurant__card-review",children:Object(u.jsxs)("p",{children:["\u201c",l,"\u201d"]})}),Object(u.jsxs)("div",{className:"restaurant__card-action-box",children:[Object(u.jsx)("button",{onClick:function(){a(t)},className:"btn btn--edit",children:"Edit Review"}),Object(u.jsx)("button",{onClick:function(){n(t.id)},className:"btn btn--delete",children:"Delete Review"})]})]})]})},R=a.p+"static/media/loading.4c44a352.svg";function S(){return Object(u.jsx)("div",{className:"main__loading",children:Object(u.jsx)("img",{src:R,alt:"Loading"})})}a(25);function C(e){var t=e.data,a=e.pushReview,c=e.mode,s=e.closeModal,i=Object(n.useState)(Object(h.a)({},t)),r=Object(x.a)(i,2),l=r[0],o=r[1];Object(n.useEffect)((function(){document.querySelector(".container").classList.add(".modal-open")}),[]);return Object(u.jsxs)("div",{className:"modal show",children:[Object(u.jsx)("div",{className:"modal__bg",children:"\xa0"}),Object(u.jsxs)("div",{className:"modal__form-wrapper",children:[Object(u.jsx)("button",{onClick:function(){s()},className:"modal__close",children:"\xd7"}),Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a(l)},className:"modal__form",children:[Object(u.jsx)("h3",{className:"modal__title",children:l.name}),Object(u.jsx)("div",{className:"modal__input-group",children:Object(u.jsx)(k,{rating:l.rating,mode:c,changeRating:function(e){o(Object(h.a)(Object(h.a)({},l),{},{rating:e}))}})}),Object(u.jsx)("div",{className:"modal__input-group",children:Object(u.jsx)("textarea",{value:l.text,onChange:function(e){var t=e.target.value;o(Object(h.a)(Object(h.a)({},l),{},{text:t}))},placeholder:"Your review",className:"modal__text",name:"txt",id:"",cols:"30",rows:"3"})}),Object(u.jsx)("button",{className:"btn btn--review",children:"Edit"})]})]})]})}var M=function(e){var t=e.message,a=e.closeModal;return Object(u.jsxs)("div",{className:"modal",children:[Object(u.jsx)("div",{className:"modal__bg",children:"\xa0"}),Object(u.jsxs)("div",{className:"modal__message-wrapper",children:[Object(u.jsx)("button",{onClick:function(){a()},className:"modal__close",children:"\xd7"}),Object(u.jsxs)("h3",{className:"modal__title",children:[t," !"]})]})]})};var A=function(e){var t=Object(n.useState)(!0),a=Object(x.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(!1),r=Object(x.a)(i,2),l=r[0],o=r[1],j=Object(n.useState)(!1),d=Object(x.a)(j,2),b=d[0],m=d[1],v=Object(n.useState)(""),_=Object(x.a)(v,2),f=_[0],g=_[1],N=Object(n.useState)([]),w=Object(x.a)(N,2),k=w[0],R=w[1],A=Object(n.useState)({}),D=Object(x.a)(A,2),E=D[0],I=D[1],T="edit",Y="view";Object(n.useEffect)((function(){(new p).getRestaurants().then((function(e){R(e.businesses.map((function(e){return e.text||(e.text="G\xfczel bir yemekti herkese tavsiye ediyorum"),e}))),s(!1)}))}),[]);var B=function(e){I(Object(h.a)({},e)),o(!0)},F=function(e){var t=k.filter((function(t){return t.id!==e}));R(t),o(!1),g("Deleted"),setTimeout((function(){m(!0)}),2e3)},L=function(){o(!1),m(!1)};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("main",{className:"main",children:Object(u.jsx)(u.Fragment,{children:c?Object(u.jsx)(S,{}):Object(u.jsxs)("section",{className:"main__reviewed",children:[Object(u.jsx)("h2",{className:"main__title",children:"Your Reviews"}),k.map((function(e){return Object(u.jsx)(y,{review:e,editReview:B,deleteReview:F,mode:Y},e.id)}))]})})}),l&&Object(u.jsx)(C,{data:E,pushReview:function(e){var t=JSON.parse(JSON.stringify(e)),a=k.findIndex((function(e){return e.id===t.id})),n=Object(O.a)(k);n.splice(a,1),n.splice(a,0,t),R(Object(O.a)(n)),o(!1),g("Edited"),setTimeout((function(){m(!0)}),2e3)},closeModal:L,mode:T}),b&&Object(u.jsx)(M,{message:f,closeModal:L})]})};a(26);var D=function(){return Object(u.jsx)("footer",{className:"footer",children:Object(u.jsx)("div",{className:"footer__content",children:Object(u.jsxs)("p",{children:["\xc7i\xe7ek Sepeti React Bootcamp 3. \xd6dev \xc7al\u0131\u015fmas\u0131 olarak ",Object(u.jsx)("a",{href:"https://github.com/ialiayd",target:"_blank",rel:"noreferrer",children:"Ali Aydemir"})," taraf\u0131ndan yap\u0131lm\u0131\u015ft\u0131r."]})})})},E=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)(b,{}),Object(u.jsx)(m,{}),Object(u.jsx)(A,{}),Object(u.jsx)(D,{})]})}}]),a}(c.a.Component),I=E,T=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,28)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),s(e),i(e)}))};i.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(I,{})}),document.getElementById("root")),T()}},[[27,1,2]]]);
//# sourceMappingURL=main.6f3b6ac9.chunk.js.map